<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pet PULSE</title>
    <link rel="stylesheet" href="css/app.css">
    <link rel="shortcut icon" href="images/fav.png" type="image/x-icon">
</head>
<body>
    <div class="wrap">
        <!--site-header-->
        <header class="site-header">
            <div class="site-header__inner">
                <div class="site-header__logo">
                    <a href="index.html">Pet PULSE</a>
                </div>
                <button class="site-header__btn-toggle"></button>
                <div class="site-header__overlay"></div>
                <div class="site-header__nav">
                    <nav class="site-header__main-nav">
                        <a class="site-header__btn-link" href="index.html">首頁</a>
                        <a class="site-header__btn-link" href="pet-pulse.html">Pet PULSE</a>
                        <a class="site-header__btn-link" href="pet-article.html">愛毛孩</a>
                        <a class="site-header__btn-link" href="course-list.html">寵毛孩</a>
                    </nav>
                    <div class="site-header__user-login level-1">
                        <div class="site-header__user-level level-1"></div>
                        <div class="site-header__user-name">
                            <a href="user-profile.html">訪客</a>
                        </div>
                    </div>
                    <div class="site-header__user">
                        <a class="site-header__btn-login" href="login.html">登入</a>
                        <a class="site-header__btn-register" href="register.html">註冊</a>
                    </div>
                    <div class="site-header__search">
                        <input class="site-header__search-input" type="text" placeholder="搜尋文章">
                        <button class="site-header__btn-search">搜尋</button>
                    </div>
                </div>
            </div>
        </header>
        <!--site-header-->
        <!--site-main-->
        <main class="site-main">
            <div class="contact">
                <div class="contact__inner">
                    <h2 class="contact__main-title">聯絡我們</h2>
                    <div class="contact__wrap">
                        <form class="contact__form">
                            <div class="contact__row">
                                <label class="contact__label" for="subject">主旨*</label>
                                <input class="contact__input" type="text" name="subject" id="subject" maxlength="40">
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="question">問題*</label>
                                <div class="pet-profile__select-wrap">
                                    <select name="question" id="question">
                                        <option value="" selected="selected" disabled="disabled">請選擇您的問題</option>
                                        <option value="帳號問題">帳號問題</option>
                                        <option value="課程問題">課程問題</option>
                                        <option value="合作相關">合作相關</option>
                                        <option value="其他">其他</option>
                                    </select>
                                </div>
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="email">電子郵件*</label>
                                <input class="contact__input" type="email" name="email" id="email">
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="username">姓名*</label>
                                <input class="contact__input" type="text" name="username" id="username">
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="mobile">聯絡電話*</label>
                                <input class="contact__input" type="tel" name="mobile" id="mobile">
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="message">內容*</label>
                                <textarea class="contact__textarea" name="message" id="message" maxlength="300"></textarea>
                            </div>
                            <div class="contact__row">
                                <label class="contact__label" for="image">圖片</label>
                                <input class="contact__input-file" name="image" id="image" type="file" accept="image/jpeg, image/png" multiple="multiple">
                            </div>
                            <div class="contact__row">
                                <button class="contact__btn-submit">送出</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
        <!--site-main-->
        <!--site-footer-->
        <footer class="site-footer">
            <div class="site-footer__content">
                <div class="site-footer__inner">
                    <div class="site-footer__info">
                        <h2>關於Pet PULSE</h2>
                        <p>嘗試從關心動物與生活環境開始，是學會與世界永續共存的第一步 —— 也是PETPULSE的使命。</p>
                    </div>
                    <div class="site-footer__block">
                        <div class="site-footer__sns">
                            <a href="#">
                                <img src="images/icon-facebook.svg" alt="https://www.facebook.com/DrTammieNutrition">
                            </a>
                            <a href="#">
                                <img src="images/icon-instagram.svg" alt="https://www.instagram.com/jimhealth/">
                            </a>
                            <a href="#">
                                <img src="images/icon-youtube.svg" alt="">
                            </a>
                        </div>
                        <div class="site-footer__policy">
                            <a href="membership.html">會員等級</a>
                            <a href="contact.html">聯絡我們</a>
                            <a href="policies.html">使用者服務條款</a>
                            <a href="privacy.html">隱私權政策</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="site-footer__copyright">
                <div class="site-footer__inner">
                    <p class="site-footer__copyright-text">© 2022 PETPULSE All rights reserved.</p>
                    <button class="site-footer__btn-gotop">top</button>
                </div>
            </div>
        </footer>
        <!--site-footer-->
    </div>
    <script src="js/all.js"></script>
    <script src="js/app.js"></script>
    <script>
        $(function(){
            var lazyLoadImage = new LazyLoad()

            const inputSubject = $('#subject')
            const selectQuestion = $('#question')
            const selectQuestionWrap = $('.pet-profile__select-wrap')
            const inputEmail = $('#email')
            const inputUsername = $('#username')
            const inputMobile = $('#mobile')
            const textareaMessage = $('#message')

            function addError(element, errorMessage) {
                element.after(`<div class="error-tips">${errorMessage}</div>`)
            }

            function removeError(element) {
                element.next().remove()
            }

            inputSubject.on('input', function(){
                removeError(inputSubject)
            })

            selectQuestion.on('change', function(){
                removeError(selectQuestionWrap)
            })

            inputEmail.on('input', function () {
                removeError(inputEmail)
            })

            inputUsername.on('input', function () {
                removeError(inputUsername)
            })

            inputMobile.on('input', function () {
                removeError(inputMobile)
            })

            textareaMessage.on('input', function () {
                removeError(textareaMessage)
            })

            function isEmail(value) {
                const regex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return regex.test(value);
            }

            function isMobile(value) {
                const regex = /^[09]{2}[0-9]{8}$/
                return regex.test(value)
            }

            $('.contact__btn-submit').on('click', function(e){
                e.preventDefault()
                if(!inputSubject.val() && !inputSubject.next().is('p')) {
                    addError(inputSubject, '請填寫主旨!')
                    inputSubject.focus()
                    return false
                }
                if (selectQuestion.val() === null && !selectQuestionWrap.next().is('p')) {
                    addError(selectQuestionWrap, '請選擇問題類型!')
                    selectQuestion.focus()
                    return false
                }
                if (inputEmail.val() === '' && !inputEmail.next().is('p')) {
                    addError(inputEmail, '請輸入Email!')
                    inputEmail.focus()
                    return false
                }
                if (!isEmail(inputEmail.val()) && !inputEmail.next().is('p')) {
                    addError(inputEmail, 'Email格式不正確')
                    inputEmail.focus()
                    return false
                }
                if (inputUsername.val() === '' && !inputUsername.next().is('p')) {
                    addError(inputUsername, '請輸入姓名!')
                    inputUsername.focus()
                    return false
                }
                if (inputMobile.val() === '' && !inputMobile.next().is('p')) {
                    addError(inputMobile, '請輸入手機!')
                    inputMobile.focus()
                    return false
                }
                if (!isMobile(inputMobile.val()) && !inputMobile.next().is('p')) {
                    addError(inputMobile, '手機號碼格式錯誤!')
                    inputMobile.focus()
                    return false
                }
                if (textareaMessage.val() === '' && !textareaMessage.next().is('p')) {
                    addError(textareaMessage, '請輸入內容!')
                    textareaMessage.focus()
                    return false
                }
            })
        })
    </script>
</body>
</html>