<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pet PULSE</title>
    <link rel="stylesheet" href="css/app.css">
    <link rel="shortcut icon" href="images/fav.png" type="image/x-icon">
</head>

<body>
    <div class="forget-password">
        <div class="forget-password__content">
            <div class="forget-password__ui">
                <h2 class="forget-password__main-title">密碼重設</h2>
                <div class="forget-password__form">
                    <div class="forget-password__row">
                        <label class="forget-password__label" for="email">電子郵件</label>
                        <input class="forget-password__input" type="email" placeholder="請輸入電子郵件" id="email">
                    </div>
                    <div class="forget-password__row">
                        <button class="forget-password__btn-submit">送出</button>
                    </div>
                </div>
            </div>
        </div>
        <p class="forget-password__text">還沒有帳號？<a href="register.html" title="立即註冊">立即註冊</a></p>
    </div>
    <script src="js/all.js"></script>
    <script src="js/app.js"></script>
    <script>
        $(function () {

            const inputEmail = $('#email')

            function isEmail(value) {
                const regex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return regex.test(value);
            }

            function addError(element, errorMessage) {
                element.after(`<div class="error-tips">${errorMessage}</div>`)
            }

            function removeError(element) {
                element.next().remove()
            }

            inputEmail.on('input', function () {
                removeError(inputEmail)
            })

            $('.forget-password__btn-submit').on('click', function (e) {
                e.preventDefault()
                if (inputEmail.val() === '' && !inputEmail.next().is('p')) {
                    addError(inputEmail, '請輸入Email!')
                    inputEmail.focus()
                    return false
                }
                if (!isEmail(inputEmail.val()) && !inputEmail.next().is('p')) {
                    addError(inputEmail, 'Email格式不正確!')
                    inputEmail.focus()
                    return false
                }
            })
        });
    </script>
</body>
</html>