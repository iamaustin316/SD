<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>我的獎章</title>
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <div class="wrap">
    <header class="site-header medal">
      <h1>我的獎章</h1>
    </header>
    <main class="site-main">
      <section class="section-medal">
        <!--使用目前獲得獎章狀態-->
        <div class="section-medal__profile">
          <div class="section-medal__avatar">
            <img src="images/avatar-male-level-02.png" alt="脈診學前生">
          </div>
          <div class="section-medal__name">
            <h2>Austin</h2>
            <h3>脈診學前生</h3>
          </div>
          <div class="section-medal__status">
            <div class="section-medal__block">
              <h4>已獲得獎章</h4>
              <div class="section-medal__medal-number" number="25">0</div>
            </div>
            <div class="section-medal__block">
              <h4>獎章總覽</h4>
              <div class="section-medal__process">
                <svg class="section-medal__circle" data-value="85" data-name="html" data-group="Frontend" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
                  <circle class="section-medal__circle-background" cx="18" cy="18" r="16"></circle>
                  <circle class="section-medal__circle-progress" cx="18" cy="18" r="16"></circle>
                </svg>
                <div class="section-medal__circle-title">
                  <span class="section-medal__count" number="85">0</span>
                  <small>%</small>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章狀態-->
        <!--使用目前獲得獎章列表-量測次數-->
        <div class="section-medal__list">
          <div class="section-medal__header">
            <h3 class="section-medal__title">量測獎章</h3>
            <button class="section-medal__btn-info" data-name="量測獎章" data-description="人好終片務得易開可在身動數錯得你實夫就實多因藥任就門多，局聞個用根門，臺投個個。">觀看說明</button>
            <div class="section-medal__progress">
              <span>1</span>
              <span>33</span>
            </div>
          </div>
          <div class="section-medal__medal-wrap">
            <div class="section-medal__medal-item active" data-description="從 yyyy-mm-dd 至今, 您已經完成了879次量測!  總排名為 XX名, 離上一個等級有 XX次量測的差距">
              <img src="images/medal-times-01.png" alt="量測1次">
              <p>量測1次</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-times-02.png" alt="量測5次">
              <p>量測5次</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-times-03.png" alt="量測10次">
              <p>量測10次</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-times-04.png" alt="量測30次">
              <p>量測30次</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-times-05.png" alt="量測50次">
              <p>量測50次</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-times-06.png" alt="量測100次">
              <p>量測100次</p>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章列表-量測次數-->
        <!--使用目前獲得獎章列表-周獎章-->
        <div class="section-medal__list">
          <div class="section-medal__header">
            <h3 class="section-medal__title">周獎章</h3>
            <button class="section-medal__btn-info" data-name="周獎章" data-description="人好終片務得易開可在身動數錯得你實夫就實多因藥任就門多，局聞個用根門，臺投個個。">觀看說明</button>
            <div class="section-medal__progress">
              <span>2</span>
              <span>52</span>
            </div>
          </div>
          <div class="section-medal__medal-wrap">
            <div class="section-medal__medal-item active" data-description="從 yyyy-mm-dd 至今有 XX周, 您已經達成 N 次當周量測超過3次的成就!">
              <img src="images/medal-weeks-01.png" alt="1周達成">
              <p>1周達成</p>
            </div>
            <div class="section-medal__medal-item active">
              <img src="images/medal-weeks-02.png" alt="2周達成">
              <p>2周達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-weeks-03.png" alt="3周達成">
              <p>3周達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-weeks-04.png" alt="4周達成">
              <p>4周達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-weeks-05.png" alt="5周達成">
              <p>5周達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-weeks-06.png" alt="6周達成">
              <p>6周達成</p>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章列表-周獎章-->
        <!--使用目前獲得獎章列表-月獎章-->
        <div class="section-medal__list">
          <div class="section-medal__header">
            <h3 class="section-medal__title">月獎章</h3>
            <button class="section-medal__btn-info" data-name="月獎章" data-description="人好終片務得易開可在身動數錯得你實夫就實多因藥任就門多，局聞個用根門，臺投個個。">觀看說明</button>
            <div class="section-medal__progress">
              <span>2</span>
              <span>18</span>
            </div>
          </div>
          <div class="section-medal__medal-wrap">
            <div class="section-medal__medal-item active" data-description="每月集滿4次周挑戰即獲取資格; 自 yyyy-mm-dd 至今您已經達成此成就 N 次">
              <img src="images/medal-month-01.png" alt="第1個月達成">
              <p>第1個月達成</p>
            </div>
            <div class="section-medal__medal-item active">
              <img src="images/medal-month-02.png" alt="第2個月達成">
              <p>第2個月達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-month-03.png" alt="第3個月達成">
              <p>第3個月達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-month-04.png" alt="第4個月達成">
              <p>第4個月達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-month-05.png" alt="第5個月達成">
              <p>第5個月達成</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-month-06.png" alt="第6個月達成">
              <p>第6個月達成</p>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章列表-周獎章-->
        <!--使用目前獲得獎章列表-凍齡獎章-->
        <div class="section-medal__list">
          <div class="section-medal__header">
            <h3 class="section-medal__title">凍齡獎章</h3>
            <button class="section-medal__btn-info" data-name="凍齡獎章" data-description="人好終片務得易開可在身動數錯得你實夫就實多因藥任就門多，局聞個用根門，臺投個個。">觀看說明</button>
            <div class="section-medal__progress">
              <span>2</span>
              <span>5</span>
            </div>
          </div>
          <div class="section-medal__medal-wrap">
            <div class="section-medal__medal-item active">
              <img src="images/medal-young-01.png" alt="凍齡藍牌">
              <p>凍齡藍牌</p>
            </div>
            <div class="section-medal__medal-item active">
              <img src="images/medal-young-02.png" alt="凍齡綠牌">
              <p>凍齡綠牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-03.png" alt="凍齡銅牌">
              <p>凍齡銅牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-04.png" alt="凍齡銀牌">
              <p>凍齡銀牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-05.png" alt="凍齡金牌">
              <p>凍齡金牌</p>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章列表-凍齡獎章-->
        <!--使用目前獲得獎章列表-平衡獎章-->
        <div class="section-medal__list">
          <div class="section-medal__header">
            <h3 class="section-medal__title">平衡獎章</h3>
            <button class="section-medal__btn-info" data-name="平衡獎章" data-description="人好終片務得易開可在身動數錯得你實夫就實多因藥任就門多，局聞個用根門，臺投個個。">觀看說明</button>
            <div class="section-medal__progress">
              <span>2</span>
              <span>5</span>
            </div>
          </div>
          <div class="section-medal__medal-wrap">
            <div class="section-medal__medal-item active">
              <img src="images/medal-young-01.png" alt="平衡藍牌">
              <p>平衡藍牌</p>
            </div>
            <div class="section-medal__medal-item active">
              <img src="images/medal-young-02.png" alt="平衡綠牌">
              <p>平衡綠牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-03.png" alt="平衡銅牌">
              <p>平衡銅牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-04.png" alt="平衡銀牌">
              <p>平衡銀牌</p>
            </div>
            <div class="section-medal__medal-item">
              <img src="images/medal-young-05.png" alt="平衡金牌">
              <p>平衡金牌</p>
            </div>
          </div>
        </div>
        <!--使用目前獲得獎章列表-平衡獎章-->
      </section>
    </main>
  </div>
  <!--popup說明-->
  <div class="popup-ui" id="popupUI">
    <div class="popup-ui__inner">
      <div class="popup-ui__content">
        <button class="popup-ui__btn-close"></button>
        <i class="popup-ui__icon info"></i>
        <h3 class="popup-ui__title" id="medal-name"></h3>
        <p id="medal-description"></p>
      </div>
    </div>
  </div>
  <!--popup說明-->

  <!--popup-medal說明-->
  <div class="popup-ui" id="popupMedalUI">
    <div class="popup-ui__inner">
      <div class="popup-ui__content">
        <button class="popup-ui__btn-close"></button>
        <img class="popup-ui__medal-img" src="" alt="" id="medal-type-img">
        <h3 class="popup-ui__title" id="medal-type-name"></h3>
        <p id="medal-type-description"></p>
      </div>
    </div>
  </div>
  <!--popup-medal說明-->

  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
    $(function(){
      const sectionMedalCircle = document.querySelector('.section-medal__circle')
      sectionMedalCircle.children[1].style.strokeDashoffset = 100 - sectionMedalCircle.getAttribute('data-value');
      sectionMedalCircle.children[1].style.transitionDelay = '1s';

      const $popupIU = $('#popupUI')
      const $medalName = $('#medal-name')
      const $medalDescription = $('#medal-description')

      const $popupMedalUI = $('#popupMedalUI')
      const $medalTypeName = $('#medal-type-name')
      const $medalTypeDescription = $('#medal-type-description')
      const $medalTypeImg = $('#medal-type-img')

      $('.section-medal__btn-info').on('click', function(){
        var medalName = $(this).data('name')
        var medalDescription = $(this).data('description')
        $medalName.text(medalName)
        $medalDescription.text(medalDescription)
        $popupIU.addClass('active')
      })

      $('.section-medal__medal-item.active').on('click', function(){
        var imageURL = $(this).find('img').attr('src')
        var medalTypeName = $(this).find('p').html()
        var medalTypeDescription = $(this).data('description')
        $medalTypeImg.attr('src', imageURL)
        $medalTypeName.text(medalTypeName)
        $medalTypeDescription.text(medalTypeDescription)
        $popupMedalUI.addClass('active')
      })

      $('.popup-ui__btn-close').on('click', function(){
        $(this).parents('.active').removeClass('active')
      })

      function updateUsersPercentage() {
        $('.section-medal__count').animate({
            counter: 85
        }, {
            duration: 2000,
            easing: 'swing',
            step: function(now) {
                $(this).text(Math.ceil(now));
            }
        });
      };

      function updateUsersNumber() {
          $('.section-medal__medal-number').animate({
              counter: 25
          }, {
              duration: 2000,
              easing: 'swing',
              step: function(now) {
                  $(this).text(Math.ceil(now));
              }
          });
      };

      setTimeout(function(){
        updateUsersPercentage()
        updateUsersNumber()
      }, 1000)

    })
  </script>
</body>
</html>